## 登录 注册 API说明

### 小程序登录

POST /api/sys/oauth/miniProgram/login

RequestBody:
```json
{
    "openid":"o1",
    "unionid":"u2"
}
```
Describe:

 - openid: 第三方id

 - unionid: 第三方id

Return:
```json
{
    "code": 200,
    "data": {
        "passwordIsEmpty": false,
        "roleCodes": [
            "admin"
        ],
        "sessionID": "VUIxAN2SMz3Z3X_q90GrU5J_Iu1vubc_isgZwM_U",
        "avatar": "/attachments/avatar/1623068357957.png",
        "accessToken": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJvcmdJZCI6IjEwMDAwMDAwMDAwMDAwMDAwMSIsInVzZXJJZCI6Ijg3NjcwODA4MjQzNzE5NzgyNyIsInVzZXJUeXBlIjoxMDEsImJVc2VyVHlwZSI6IlNZU1RFTSIsInRlbmFudE9yZ0lkIjoxMDAwMDAwMDAwMDAwMDAwMDEsImFjY291bnQiOiJhZG1pbiIsImV4dHJhVXNlclR5cGUiOjAsImlhdCI6MTYyNDUyODg5NiwianRpIjoiODc2NzA4MDgyNDM3MTk3ODI3Iiwic3ViIjoiYWRtaW4iLCJleHAiOjE2MjQ3ODgwOTZ9.E2rkYsSFHlkJ6j6iHhIJDk_5fi5oR4RNLRsgAnt6OxpYf-HDHKaoVC67d1qnJIdUqfNjQsdUzoMqkzVuDfadDA",
        "type": "A1",
        "userId": "876708082437197827",
        "orgId": "100000000000000001",
        "expiresIn": "259200000",
        "tenantId": "100000000000000001",
        "name": "管理员",
        "perms": [
                   {
                "id": "1001001",
                "identifier": "report.management",
                "name": "报表管理",
                "orgId": "100000000000000001",
                "perms": [
                    {
                        "groupId": "1001001",
                        "id": "1001001001",
                        "identifier": "defaultReport.view",
                        "name": "默认报表权限",
                        "tag": 0
                    }
                ],
                "pid": "1001"
            }
        ],
        "tokenType": "Bearer",
        "roleNames": [
            "超级管理员"
        ],
        "account": "admin"
    },
    "message": "Success"
}
```

### 小程序注册

POST /api/sys/oauth/miniProgram/register

RequestBody:
```json
{
    "openid":"122",
    "unionid":"2233",
    "account":"admin",
    "password":"111111"
}
```

Describe:

 - openid: 第三方id

 - unionid: 第三方id

 - account: 绑定的账号
 
 - password: 绑定账号的密码

Return:
```json
{
    "code": 200,
    "data": 1,
    "message": "Success"
}
```
